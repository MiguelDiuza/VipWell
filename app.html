<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIPWELL EUROPE | Maquinaria, Gestión & Servicios</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font Awesome (for Icons - Replaces SVG) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet" />



    <style>
        /* Custom Styles & Overrides */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8fafc;
            /* Slate 50 */
            color: #1e293b;
            /* Slate 800 */
        }

        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 300px;
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Scrollytelling Animation Classes */
        .process-stage {
            transition: all 0.8s ease-in-out;
            opacity: 0.5;
            transform: scale(0.9);
        }

        .process-stage.active {
            opacity: 1;
            transform: scale(1.05);
            border-color: #f97316;
            /* Orange-500 */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Hide Scrollbar for clean UI in specific divs */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Modal Transitions */
        .modal-enter {
            opacity: 0;
            transform: scale(0.95);
        }

        .modal-enter-active {
            opacity: 1;
            transform: scale(1);
            transition: opacity 300ms, transform 300ms;
        }

        .modal-exit {
            opacity: 1;
            transform: scale(1);
        }

        .modal-exit-active {
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 200ms, transform 200ms;
        }

        /* Navigation Active State */
        .nav-link.active {
            color: #f97316;
            /* Orange 500 */
            border-bottom: 2px solid #f97316;
        }
    </style>
</head>

<body class="flex flex-col min-h-screen">

    <!-- HEADER (Sticky) -->
    <header class="sticky top-0 z-50 bg-gray-900 text-white shadow-lg header-gradient">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <!-- Logo -->
            <div class="flex items-center space-x-2 cursor-pointer" onclick="navigateTo('home')">
                <div class="w-10 h-10 bg-orange-500 rounded flex items-center justify-center font-bold text-xl">V</div>
                <div>
                    <h1 class="text-xl font-bold tracking-wider">VIPWELL</h1>
                    <p class="text-[10px] text-gray-400 tracking-[0.2em] uppercase">Europe</p>
                </div>
            </div>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex space-x-8 text-sm font-medium">
                <button onclick="navigateTo('home')"
                    class="nav-link hover:text-orange-400 transition-colors py-2 active" id="nav-home">INICIO</button>
                <button onclick="navigateTo('catalog')" class="nav-link hover:text-orange-400 transition-colors py-2"
                    id="nav-catalog">CATÁLOGO</button>
                <button onclick="navigateTo('services')" class="nav-link hover:text-orange-400 transition-colors py-2"
                    id="nav-services">SERVICIOS & GESTIÓN</button>
                <button onclick="navigateTo('about')" class="nav-link hover:text-orange-400 transition-colors py-2"
                    id="nav-about">SOBRE NOSOTROS</button>
                <button onclick="navigateTo('contact')" class="nav-link hover:text-orange-400 transition-colors py-2"
                    id="nav-contact">CONTACTO</button>
            </nav>

            <!-- CTA & Mobile Menu Button -->
            <div class="flex items-center space-x-4">
                <button onclick="document.getElementById('contact-form-section').scrollIntoView({behavior: 'smooth'})"
                    class="hidden md:block bg-orange-600 hover:bg-orange-700 text-white px-5 py-2 rounded font-bold text-sm transition-transform transform hover:scale-105 shadow-md">
                    COTIZAR
                </button>
                <button class="md:hidden text-2xl focus:outline-none" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-slate-800 border-t border-slate-700">
            <div class="flex flex-col p-4 space-y-3">
                <button onclick="navigateTo('home'); toggleMobileMenu()"
                    class="text-left text-gray-300 hover:text-orange-500">Inicio</button>
                <button onclick="navigateTo('catalog'); toggleMobileMenu()"
                    class="text-left text-gray-300 hover:text-orange-500">Catálogo</button>
                <button onclick="navigateTo('services'); toggleMobileMenu()"
                    class="text-left text-gray-300 hover:text-orange-500">Servicios Globales</button>
                <button onclick="navigateTo('about'); toggleMobileMenu()"
                    class="text-left text-gray-300 hover:text-orange-500">Sobre Nosotros</button>
                <button onclick="navigateTo('contact'); toggleMobileMenu()"
                    class="text-left text-gray-300 hover:text-orange-500">Contacto</button>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT CONTAINER -->
    <main id="app-content" class="flex-grow w-full">
        <!-- Views will be injected here by JS -->
    </main>

    <!-- FOOTER -->
    <footer class="bg-gray-900 text-gray-400 py-8 md:py-12 border-t border-slate-800 footer-gradient">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8 text-sm">
                <!-- Column 1: Logo and Address -->
                <div>
                    <img src="recursos/logo.svg" alt="VIPWELL EUROPE" class="mb-4 w-24 md:w-32">
                    <h4 class="text-white text-lg font-bold mb-4">Hub Central</h4>
                    <p class="mb-2"><i class="fas fa-map-marker-alt text-orange-500 mr-2"></i> Cam. de Valdecabañas, 28</p>
                    <p class="mb-2 pl-6">Madrid, España</p>
                    <p class="mt-4"><i class="fas fa-phone text-orange-500 mr-2"></i> +34 912 345 678</p>
                    <p><i class="fas fa-envelope text-orange-500 mr-2"></i> operaciones@vipwelleurope.com</p>
                </div>

                <!-- Column 2: Navegación -->
                <div>
                    <h4 class="text-white text-lg font-bold mb-4">Navegación</h4>
                    <ul class="space-y-2">
                        <li><button onclick="navigateTo('home')" class="hover:text-white transition">Inicio</button></li>
                        <li><button onclick="navigateTo('catalog')" class="hover:text-white transition">Catálogo</button></li>
                        <li><button onclick="navigateTo('services')" class="hover:text-white transition">Servicios</button></li>
                        <li><button onclick="navigateTo('about')" class="hover:text-white transition">Acerca de</button></li>
                        <li><button onclick="navigateTo('contact')" class="hover:text-white transition">Contacto</button></li>
                    </ul>
                </div>

                <!-- Column 3: Servicios -->
                <div>
                    <h4 class="text-white text-lg font-bold mb-4">Servicios</h4>
                    <ul class="space-y-2">
                        <li><button onclick="navigateTo('catalog')" class="hover:text-white transition">Venta de Maquinaria</button></li>
                        <li><button onclick="navigateTo('services')" class="hover:text-white transition">Importación Global</button></li>
                        <li><button onclick="navigateTo('services')" class="hover:text-white transition">Servicio de Maquila (Plástico)</button></li>
                        <li><button onclick="navigateTo('contact')" class="hover:text-white transition">Consultoría Logística</button></li>
                    </ul>
                </div>

                <!-- Column 4: Certificaciones and Social -->
                <div>
                    <h4 class="text-white text-lg font-bold mb-4">Certificaciones</h4>
                    <p class="mb-4">Cumplimos con los más altos estándares de la Unión Europea y normativas de comercio internacional.</p>
                    <div class="flex space-x-4 text-2xl text-slate-500 mb-4">
                        <i class="fas fa-industry hover:text-white transition" title="ISO 9001"></i>
                        <i class="fas fa-shipping-fast hover:text-white transition" title="Global Logistics"></i>
                        <i class="fas fa-globe-europe hover:text-white transition" title="EU Hub"></i>
                    </div>
                    <h5 class="text-white text-md font-semibold mb-2">Síguenos</h5>
                    <div class="flex space-x-4">
                        <a href="#" class="text-slate-500 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-slate-500 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-slate-500 hover:text-white transition"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="text-slate-500 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="mt-8 pt-6 border-t border-slate-800 text-center text-xs text-slate-600">
                © 2024 VIPWELL EUROPE. Todos los derechos reservados.
            </div>
        </div>
    </footer>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/" target="_blank"
        class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition-transform hover:scale-110 z-50 flex items-center group">
        <span
            class="absolute right-full mr-3 bg-white text-slate-800 text-xs font-bold py-1 px-2 rounded shadow opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">Hable
            con un asesor</span>
        <i class="fab fa-whatsapp text-2xl"></i>
    </a>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA STORE ---
        const appData = {
            products: [
                {
                    id: 'p1',
                    category: 'inyeccion',
                    name: 'Serie VW-500 Hidráulica',
                    tagline: 'Potencia Clásica para Alta Demanda',
                    image: 'https://placehold.co/600x400/1e293b/FFF?text=Inyectora+VW-500',
                    desc: 'Sistema de inyección hidráulica de alta precisión con unidad de cierre reforzada. Ideal para preformas PET y tapas.',
                    specs: { tonnage: 500, cycleTime: '4.2s', power: '45kW', weight: '12T' },
                    metrics: [85, 70, 90, 95, 80], // Efficiency, Speed, Eco, Precision, Durability
                    video: 'https://placehold.co/1920x1080/000000/FFF?text=Video+Demo+Inyectora' // Placeholder for video
                },
                {
                    id: 'p2',
                    category: 'inyeccion',
                    name: 'Serie E-Motion Eléctrica',
                    tagline: 'Eficiencia Energética Superior',
                    image: 'https://placehold.co/600x400/273a57/FFF?text=Serie+E-Motion',
                    desc: 'Máquina totalmente eléctrica. Reduce el consumo energético hasta un 60%. Silenciosa, limpia y extremadamente precisa.',
                    specs: { tonnage: 280, cycleTime: '3.8s', power: '18kW', weight: '8T' },
                    metrics: [95, 90, 98, 95, 75],
                    video: 'https://placehold.co/1920x1080/000000/FFF?text=Video+Demo+Electrica'
                },
                {
                    id: 'p3',
                    category: 'extrusion',
                    name: 'Extrusora EX-Pro Tubería',
                    tagline: 'Producción Continua Sin Interrupciones',
                    image: 'https://placehold.co/600x400/334155/FFF?text=Extrusora+EX-Pro',
                    desc: 'Línea completa para extrusión de tubería PVC/HDPE. Incluye tanque de enfriamiento y unidad de corte automatizada.',
                    specs: { tonnage: 'N/A', cycleTime: 'Continua', power: '110kW', weight: '15T' },
                    metrics: [80, 85, 75, 85, 95],
                    video: 'https://placehold.co/1920x1080/000000/FFF?text=Video+Demo+Extrusion'
                },
                {
                    id: 'p4',
                    category: 'robotica',
                    name: 'Brazo Robótico R-Axix 6',
                    tagline: 'Automatización de Pick & Place',
                    image: 'https://placehold.co/600x400/475569/FFF?text=Robot+R-Axix',
                    desc: 'Brazo robótico de 6 ejes para extracción de piezas y paletizado. Integración nativa con series VW y E-Motion.',
                    specs: { tonnage: 'Payload 10kg', cycleTime: '0.5s', power: '3kW', weight: '200kg' },
                    metrics: [90, 98, 95, 99, 85],
                    video: 'https://placehold.co/1920x1080/000000/FFF?text=Video+Demo+Robot'
                },
                {
                    id: 'p5',
                    category: 'extrusion',
                    name: 'Línea de Perfilería Window',
                    tagline: 'Precisión para Construcción',
                    image: 'https://placehold.co/600x400/64748b/FFF?text=Perfileria+Window',
                    desc: 'Especializada en perfiles complejos para ventanas y marcos. Calibración al vacío de alta velocidad.',
                    specs: { tonnage: 'N/A', cycleTime: 'Continua', power: '85kW', weight: '10T' },
                    metrics: [88, 80, 85, 92, 90],
                    video: 'https://placehold.co/1920x1080/000000/FFF?text=Video+Demo+Perfileria'
                }
            ],
            metricsLabels: ['Eficiencia General', 'Velocidad Ciclo', 'Ahorro Energía', 'Precisión', 'Durabilidad']
        };

        // --- NAVIGATION STATE ---
        let currentState = {
            view: 'home',
            productFilter: 'all'
        };

        // --- DOM ELEMENTS & INIT ---
        const mainContent = document.getElementById('app-content');

        // Initial Render
        window.addEventListener('DOMContentLoaded', () => {
            navigateTo('home');
        });

        // --- NAVIGATION LOGIC ---
        function navigateTo(viewName) {
            currentState.view = viewName;

            // Update Nav Classes
            document.querySelectorAll('.nav-link').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.getElementById(`nav-${viewName}`);
            if (activeBtn) activeBtn.classList.add('active');

            // Render Content
            mainContent.innerHTML = '';
            window.scrollTo(0, 0);

            switch (viewName) {
                case 'home': renderHome(); break;
                case 'catalog': renderCatalog(); break;
                case 'services': renderServices(); break;
                case 'about': renderAbout(); break;
                case 'contact': renderContact(); break;
                default: renderHome();
            }

            // Re-run scripts/charts if needed
            if (viewName === 'home') initScrollAnimation();
            if (viewName === 'about') initAboutCharts();
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- RENDER FUNCTIONS ---

        // 1. HOME VIEW
        function renderHome() {
            mainContent.innerHTML = `
                <!-- HERO SECTION -->
                <section class="relative bg-slate-900 text-white min-h-[90vh] flex flex-col justify-center items-center overflow-hidden">
                    <div class="absolute inset-0 z-0 opacity-20 bg-[url('https://placehold.co/1920x1080/1e293b/FFFFFF?text=Fondo+Industrial')] bg-cover bg-center bg-fixed"></div>
                    
                    <div class="container mx-auto px-4 z-10 text-center mt-10">
                        <div class="inline-block px-3 py-1 mb-4 border border-orange-500 rounded-full text-orange-400 text-xs tracking-widest uppercase font-bold bg-slate-900/50 backdrop-blur-sm">
                            Hub Logístico en Europa — Alcance Global
                        </div>
                        <h1 class="text-4xl md:text-6xl font-black mb-6 leading-tight">
                            Soluciones Integrales en <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-orange-600">Maquinaria y Plástico</span>
                        </h1>
                        <p class="text-lg md:text-xl text-slate-300 max-w-2xl mx-auto mb-10">
                            20 años gestionando venta, importación de maquinaria y servicios de producción desde nuestra planta en Europa.
                        </p>
                        
                        <div class="flex flex-col sm:flex-row justify-center gap-4">
                            <button onclick="navigateTo('catalog')" class="bg-orange-600 hover:bg-orange-700 text-white px-8 py-3 rounded font-bold text-lg transition-all shadow-lg hover:shadow-orange-500/20">
                                Ver Maquinaria
                            </button>
                            <button onclick="navigateTo('services')" class="bg-transparent border-2 border-white hover:bg-white hover:text-slate-900 text-white px-8 py-3 rounded font-bold text-lg transition-all">
                                Servicios y Gestión
                            </button>
                        </div>
                    </div>

                    <!-- SCROLLYTELLING ANIMATION DEMO -->
                    <div class="mt-16 w-full max-w-4xl px-4 z-10 hidden md:block">
                        <p class="text-center text-sm text-slate-400 mb-4 uppercase tracking-wider">Ciclo Integral VIPWELL</p>
                        <div class="flex justify-between items-center relative" id="process-timeline">
                            <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-700 -z-10"></div>
                            
                            <!-- Step 1 -->
                            <div class="process-stage w-24 h-24 bg-slate-800 border-2 border-slate-600 rounded-full flex flex-col items-center justify-center p-2 text-center shadow-lg" data-step="1">
                                <i class="fas fa-search-location text-2xl mb-1 text-slate-400"></i>
                                <span class="text-[10px] font-bold">Sourcing Global</span>
                            </div>
                             <!-- Step 2 -->
                            <div class="process-stage w-24 h-24 bg-slate-800 border-2 border-slate-600 rounded-full flex flex-col items-center justify-center p-2 text-center shadow-lg" data-step="2">
                                <i class="fas fa-ship text-2xl mb-1 text-slate-400"></i>
                                <span class="text-[10px] font-bold">Import/Export</span>
                            </div>
                             <!-- Step 3 -->
                            <div class="process-stage w-24 h-24 bg-slate-800 border-2 border-slate-600 rounded-full flex flex-col items-center justify-center p-2 text-center shadow-lg" data-step="3">
                                <i class="fas fa-cogs text-2xl mb-1 text-slate-400"></i>
                                <span class="text-[10px] font-bold">Instalación</span>
                            </div>
                             <!-- Step 4 -->
                            <div class="process-stage w-24 h-24 bg-slate-800 border-2 border-slate-600 rounded-full flex flex-col items-center justify-center p-2 text-center shadow-lg" data-step="4">
                                <i class="fas fa-boxes text-2xl mb-1 text-slate-400"></i>
                                <span class="text-[10px] font-bold">Producción</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TRUST BAR -->
                <section class="bg-white py-12 border-b border-gray-100">
                    <div class="container mx-auto px-4 grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                        <div class="p-4">
                            <i class="fas fa-map-marked-alt text-4xl text-slate-700 mb-3"></i>
                            <h3 class="font-bold text-slate-900">Hub Europeo</h3>
                            <p class="text-sm text-slate-500">Gestión Centralizada</p>
                        </div>
                        <div class="p-4">
                            <i class="fas fa-dolly text-4xl text-slate-700 mb-3"></i>
                            <h3 class="font-bold text-slate-900">Logística Global</h3>
                            <p class="text-sm text-slate-500">Traemos su máquina</p>
                        </div>
                        <div class="p-4">
                            <i class="fas fa-industry text-4xl text-slate-700 mb-3"></i>
                            <h3 class="font-bold text-slate-900">Maquila Propia</h3>
                            <p class="text-sm text-slate-500">Producimos por usted</p>
                        </div>
                        <div class="p-4">
                            <i class="fas fa-history text-4xl text-slate-700 mb-3"></i>
                            <h3 class="font-bold text-slate-900">+20 Años</h3>
                            <p class="text-sm text-slate-500">Experiencia Real</p>
                        </div>
                    </div>
                </section>

                <!-- INTRO SECTION -->
                <section class="py-20 bg-slate-50">
                    <div class="container mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <h2 class="text-3xl font-bold text-slate-900 mb-6">Más que vendedores, somos sus socios operativos.</h2>
                            <p class="text-slate-600 mb-6 leading-relaxed">
                                En <span class="font-bold text-slate-800">VIPWELL EUROPE</span> entendemos que cada proyecto es diferente. A veces necesita la máquina, a veces necesita que la gestionemos desde otro continente, y a veces solo necesita el producto final.
                            </p>
                            <p class="text-slate-600 mb-8 leading-relaxed">
                                No nos limitamos a nuestro stock. <strong>Gestionamos la importación y exportación</strong> de maquinaria desde cualquier parte del mundo hacia su planta, y ofrecemos <strong>servicios de producción de plásticos</strong> en nuestras propias instalaciones en Europa.
                            </p>
                            <button onclick="navigateTo('services')" class="text-orange-600 font-bold hover:text-orange-700 flex items-center">
                                Descubra nuestros servicios de gestión <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                        <div class="bg-slate-200 rounded-lg h-80 overflow-hidden relative shadow-xl group">
                            <!-- Image Placeholder: Logistics/Factory -->
                             <img src="https://placehold.co/800x600/1e293b/FFFFFF?text=Logistica+y+Produccion+VIPWELL" alt="Logistica" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
                             <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 to-transparent flex items-end p-6">
                                <p class="text-white font-medium"><i class="fas fa-shipping-fast text-orange-500 mr-2"></i> Gestión Global desde Madrid</p>
                             </div>
                        </div>
                    </div>
                </section>

                <!-- FEATURED CATALOG PREVIEW -->
                <section class="py-20 bg-white">
                    <div class="container mx-auto px-4 text-center mb-12">
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">Maquinaria de Alto Rendimiento</h2>
                        <p class="text-slate-500 max-w-2xl mx-auto">Venta directa y gestión de importación bajo pedido.</p>
                    </div>
                    
                    <div class="container mx-auto px-4 grid md:grid-cols-3 gap-8">
                        <!-- Card 1 -->
                        <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow border border-slate-100 overflow-hidden group">
                            <div class="h-48 overflow-hidden relative">
                                <img src="https://placehold.co/600x400/1e293b/FFF?text=Inyeccion" alt="Inyeccion" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                                <div class="absolute top-4 right-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded">Top Seller</div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-slate-800 mb-2">Inyección de Plástico</h3>
                                <p class="text-slate-500 text-sm mb-4">Series hidráulicas y eléctricas. Disponibles en stock o bajo importación.</p>
                                <button onclick="navigateTo('catalog')" class="text-orange-600 font-bold text-sm hover:underline">Ver Modelos</button>
                            </div>
                        </div>
                         <!-- Card 2 -->
                        <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow border border-slate-100 overflow-hidden group">
                            <div class="h-48 overflow-hidden relative">
                                <img src="https://placehold.co/600x400/334155/FFF?text=Extrusion" alt="Extrusion" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-slate-800 mb-2">Extrusión Industrial</h3>
                                <p class="text-slate-500 text-sm mb-4">Para tuberías, perfiles y láminas con alta capacidad de salida.</p>
                                <button onclick="navigateTo('catalog')" class="text-orange-600 font-bold text-sm hover:underline">Ver Modelos</button>
                            </div>
                        </div>
                         <!-- Card 3 -->
                        <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow border border-slate-100 overflow-hidden group">
                            <div class="h-48 overflow-hidden relative">
                                <img src="https://placehold.co/600x400/475569/FFF?text=Robotica" alt="Robotica" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold text-slate-800 mb-2">Robótica y Automatización</h3>
                                <p class="text-slate-500 text-sm mb-4">Brazos robóticos de 3 a 6 ejes para extracción y paletizado.</p>
                                <button onclick="navigateTo('catalog')" class="text-orange-600 font-bold text-sm hover:underline">Ver Modelos</button>
                            </div>
                        </div>
                    </div>
                </section>
            `;
        }

        // 2. CATALOG VIEW
        function renderCatalog() {
            mainContent.innerHTML = `
                <section class="bg-slate-900 text-white py-16">
                    <div class="container mx-auto px-4 text-center">
                        <h1 class="text-4xl font-bold mb-4">Catálogo de Maquinaria</h1>
                        <p class="text-slate-400 max-w-2xl mx-auto">Explore nuestras soluciones técnicas. Utilice los filtros para encontrar la máquina exacta para su línea de producción.</p>
                    </div>
                </section>

                <section class="py-12 bg-white">
                    <div class="container mx-auto px-4">
                        <!-- Filters -->
                        <div class="flex flex-wrap justify-center gap-4 mb-12">
                            <button onclick="filterCatalog('all')" class="filter-btn px-6 py-2 rounded-full border border-slate-300 hover:border-orange-500 hover:text-orange-500 transition active-filter text-sm font-bold bg-slate-100" data-filter="all">TODOS</button>
                            <button onclick="filterCatalog('inyeccion')" class="filter-btn px-6 py-2 rounded-full border border-slate-300 hover:border-orange-500 hover:text-orange-500 transition text-sm font-bold" data-filter="inyeccion">INYECCIÓN</button>
                            <button onclick="filterCatalog('extrusion')" class="filter-btn px-6 py-2 rounded-full border border-slate-300 hover:border-orange-500 hover:text-orange-500 transition text-sm font-bold" data-filter="extrusion">EXTRUSIÓN</button>
                            <button onclick="filterCatalog('robotica')" class="filter-btn px-6 py-2 rounded-full border border-slate-300 hover:border-orange-500 hover:text-orange-500 transition text-sm font-bold" data-filter="robotica">ROBÓTICA</button>
                        </div>

                        <!-- Grid -->
                        <div id="catalog-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                            <!-- JS Generated Items -->
                        </div>
                        
                        <div class="mt-16 text-center bg-slate-50 p-8 rounded-xl border border-dashed border-slate-300">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">¿Busca maquinaria fuera de catálogo?</h3>
                            <p class="text-slate-500 mb-6">Gestionamos la búsqueda e importación de máquinas específicas desde cualquier país.</p>
                            <button onclick="navigateTo('services')" class="bg-slate-800 text-white px-6 py-3 rounded hover:bg-slate-700 transition">Ver Servicios de Sourcing</button>
                        </div>
                    </div>
                </section>
                
                <!-- MODAL CONTAINER (Hidden by default) -->
                <div id="product-modal" class="fixed inset-0 z-[60] hidden">
                    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeModal()"></div>
                    <div class="absolute inset-0 flex items-center justify-center p-4 pointer-events-none">
                        <div class="bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto pointer-events-auto flex flex-col md:flex-row relative animate-modal">
                            <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 z-10"><i class="fas fa-times text-2xl"></i></button>
                            <!-- Content injected by JS -->
                            <div id="modal-content" class="w-full flex flex-col md:flex-row"></div>
                        </div>
                    </div>
                </div>
            `;

            filterCatalog('all');
        }

        // 3. SERVICES & MANAGEMENT VIEW (Updated)
        function renderServices() {
            mainContent.innerHTML = `
                <section class="bg-slate-800 text-white py-16">
                     <div class="container mx-auto px-4 text-center">
                        <h1 class="text-4xl font-bold mb-6">Gestión Integral y Servicios</h1>
                        <p class="text-lg text-slate-300 max-w-3xl mx-auto mb-6">
                            En VIPWELL, somos su departamento externo de ingeniería y logística. No solo vendemos; localizamos, importamos y producimos.
                        </p>
                    </div>
                </section>

                <!-- 3 PILLARS OF SERVICE -->
                <section class="py-16 bg-white">
                    <div class="container mx-auto px-4">
                        <div class="grid md:grid-cols-3 gap-8 mb-16">
                            <!-- Pillar 1: Sourcing -->
                            <div class="bg-slate-50 p-8 rounded-xl border border-slate-200 hover:border-orange-500 transition group">
                                <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 group-hover:bg-orange-100 transition">
                                    <i class="fas fa-globe-americas text-3xl text-slate-700 group-hover:text-orange-600"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-4">Gestión de Importación</h3>
                                <p class="text-slate-600 mb-4">
                                    No nos limitamos a Europa. Si la máquina que necesita está en Asia o América, nosotros la localizamos, negociamos y gestionamos su <strong>importación y transporte</strong> hasta su puerta.
                                </p>
                                <ul class="text-sm text-slate-500 space-y-2">
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Trámites Aduaneros</li>
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Logística Internacional</li>
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Inspección Técnica en Origen</li>
                                </ul>
                            </div>

                            <!-- Pillar 2: Maquila Services -->
                            <div class="bg-slate-50 p-8 rounded-xl border border-slate-200 hover:border-orange-500 transition group">
                                <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 group-hover:bg-orange-100 transition">
                                    <i class="fas fa-industry text-3xl text-slate-700 group-hover:text-orange-600"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-4">Servicio de Maquila</h3>
                                <p class="text-slate-600 mb-4">
                                    ¿Necesita producción inmediata sin invertir en activos? Ponemos a su disposición nuestras <strong>máquinas funcionales en Europa</strong> para inyectar o extruir sus productos.
                                </p>
                                <ul class="text-sm text-slate-500 space-y-2">
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Inyección de Plásticos</li>
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Moldes Personalizados</li>
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Entrega de Producto Terminado</li>
                                </ul>
                            </div>

                            <!-- Pillar 3: Engineering -->
                            <div class="bg-slate-50 p-8 rounded-xl border border-slate-200 hover:border-orange-500 transition group">
                                <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 group-hover:bg-orange-100 transition">
                                    <i class="fas fa-drafting-compass text-3xl text-slate-700 group-hover:text-orange-600"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-slate-800 mb-4">Diseño a Medida</h3>
                                <p class="text-slate-600 mb-4">
                                    Nuestro equipo de ingeniería diseña maquinaria con especificaciones únicas. Adaptamos software, dimensiones y potencia a sus requerimientos.
                                </p>
                                <ul class="text-sm text-slate-500 space-y-2">
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Automatización Robótica</li>
                                    <li><i class="fas fa-check text-orange-500 mr-2"></i> Software PLC Custom</li>
                                </ul>
                            </div>
                        </div>

                        <!-- ESTIMATOR SECTION (Moved here) -->
                        <div class="bg-slate-900 rounded-2xl p-8 md:p-12 shadow-2xl text-white">
                            <div class="grid md:grid-cols-2 gap-12 items-center">
                                <div>
                                    <h3 class="text-2xl font-bold mb-4">Estimador de Proyectos Especiales</h3>
                                    <p class="text-slate-400 mb-6">
                                        Calcule el tiempo estimado para el desarrollo de maquinaria personalizada o gestión de importación compleja.
                                    </p>
                                    <div class="space-y-4">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center mr-4 font-bold text-orange-500">1</div>
                                            <p>Definición de Requerimientos</p>
                                        </div>
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center mr-4 font-bold text-orange-500">2</div>
                                            <p>Búsqueda Global / Diseño</p>
                                        </div>
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center mr-4 font-bold text-orange-500">3</div>
                                            <p>Logística e Instalación</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-slate-800 p-6 rounded-xl border border-slate-700">
                                    <label class="block text-sm font-bold mb-2">Tipo de Gestión</label>
                                    <select id="est-base" class="w-full bg-slate-700 border border-slate-600 rounded p-3 text-white mb-4" onchange="updateEstimator()">
                                        <option value="1">Importación de Maquinaria (Asia/América)</option>
                                        <option value="2">Fabricación a Medida (Europa)</option>
                                        <option value="0.5">Servicio de Maquila (Producción)</option>
                                    </select>

                                    <label class="block text-sm font-bold mb-2">Variables Adicionales</label>
                                    <div class="space-y-2 mb-6">
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" id="est-check-1" class="form-checkbox text-orange-500 bg-slate-700 border-slate-600" onchange="updateEstimator()">
                                            <span class="text-sm text-slate-300">Requiere Trámites Aduaneros Complejos</span>
                                        </label>
                                        <label class="flex items-center space-x-2 cursor-pointer">
                                            <input type="checkbox" id="est-check-2" class="form-checkbox text-orange-500 bg-slate-700 border-slate-600" onchange="updateEstimator()">
                                            <span class="text-sm text-slate-300">Software Personalizado</span>
                                        </label>
                                    </div>

                                    <!-- Dynamic Bar -->
                                    <div class="bg-slate-900 rounded-lg p-4">
                                        <div class="flex justify-between text-xs text-slate-400 mb-1">
                                            <span>Inicio</span>
                                            <span>Entrega / Inicio Producción</span>
                                        </div>
                                        <div class="h-4 bg-slate-700 rounded-full overflow-hidden relative">
                                            <div id="est-bar" class="absolute top-0 left-0 h-full bg-orange-500 transition-all duration-500" style="width: 30%"></div>
                                        </div>
                                        <p class="text-right text-orange-400 font-bold mt-2" id="est-text">Tiempo estimado: --</p>
                                    </div>
                                    
                                    <button onclick="navigateTo('contact')" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded mt-6 transition">Solicitar Asesoría</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `;
            setTimeout(updateEstimator, 100); // Init
        }

        // 4. ABOUT VIEW
        function renderAbout() {
            mainContent.innerHTML = `
                <section class="bg-white py-16">
                    <div class="container mx-auto px-4 max-w-4xl">
                        <div class="text-center mb-12">
                            <span class="text-orange-500 font-bold tracking-widest text-sm">NUESTRA HISTORIA</span>
                            <h1 class="text-4xl font-bold text-slate-900 mt-2">20 Años Conectando la Industria</h1>
                        </div>
                        
                        <div class="prose prose-lg text-slate-600 mx-auto">
                            <p>
                                Fundada en el corazón industrial de Europa, <strong>VIPWELL EUROPE</strong> nació con una visión clara: ser el puente entre la mejor tecnología global y las plantas de producción locales. No solo fabricamos; somos expertos en <strong>gestión de maquinaria</strong>.
                            </p>
                            <p>
                                Nuestra sede en Madrid actúa como un Hub estratégico. Desde aquí, coordinamos la fabricación, pero también la <strong>búsqueda e importación</strong> de equipos de otros continentes, asegurando que nuestros clientes obtengan la mejor relación calidad-precio sin lidiar con la logística compleja.
                            </p>
                            <p>
                                Además, somos productores. Nuestras instalaciones cuentan con maquinaria activa ofreciendo <strong>servicios de maquila</strong> para clientes que prefieren externalizar su producción de plásticos.
                            </p>
                        </div>

                        <!-- Global Impact Chart Container -->
                        <div class="mt-16 mb-12">
                            <h3 class="text-center text-xl font-bold mb-6">Operaciones Globales (2024)</h3>
                            <div class="chart-container">
                                <canvas id="globalChart"></canvas>
                            </div>
                            <p class="text-center text-sm text-slate-400 mt-2">Distribución de nuestras actividades por tipo</p>
                        </div>

                        <div class="grid md:grid-cols-2 gap-8 mt-16">
                            <div class="bg-slate-50 p-6 rounded-lg border-l-4 border-orange-500">
                                <h4 class="font-bold text-slate-900 text-lg mb-2">Gestión Sin Fronteras</h4>
                                <p class="text-sm">Si la máquina existe, la traemos. Si no existe, la fabricamos. Nos encargamos del transporte internacional y la nacionalización.</p>
                            </div>
                            <div class="bg-slate-50 p-6 rounded-lg border-l-4 border-orange-500">
                                <h4 class="font-bold text-slate-900 text-lg mb-2">Respaldo Productivo</h4>
                                <p class="text-sm">No somos solo intermediarios. Somos industriales. Tenemos máquinas funcionando y produciendo todos los días en nuestra sede.</p>
                            </div>
                        </div>
                    </div>
                </section>
            `;
        }

        // 5. CONTACT VIEW
        function renderContact() {
            mainContent.innerHTML = `
                 <section class="bg-slate-900 text-white py-12">
                    <div class="container mx-auto px-4 text-center">
                        <h1 class="text-4xl font-bold">Contáctenos</h1>
                        <p class="text-slate-400 mt-2">Estamos listos para gestionar su proyecto industrial.</p>
                    </div>
                </section>

                <section class="py-16 bg-white" id="contact-form-section">
                    <div class="container mx-auto px-4 grid md:grid-cols-2 gap-12 max-w-6xl">
                        
                        <!-- Contact Info & Map -->
                        <div>
                            <div class="bg-slate-50 p-8 rounded-xl shadow-sm border border-slate-100 mb-8">
                                <h3 class="text-xl font-bold text-slate-800 mb-6">Información Corporativa</h3>
                                <div class="space-y-4">
                                    <div class="flex items-start">
                                        <div class="bg-orange-100 p-3 rounded-full mr-4 text-orange-600"><i class="fas fa-map-marker-alt"></i></div>
                                        <div>
                                            <p class="font-bold text-slate-900">Sede Central & Planta</p>
                                            <p class="text-slate-600">Cam. de Valdecabañas, 28<br>Madrid, España</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <div class="bg-orange-100 p-3 rounded-full mr-4 text-orange-600"><i class="fas fa-phone"></i></div>
                                        <div>
                                            <p class="font-bold text-slate-900">Teléfonos</p>
                                            <p class="text-slate-600">+34 912 345 678 (Ventas)<br>+34 600 000 000 (WhatsApp)</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start">
                                        <div class="bg-orange-100 p-3 rounded-full mr-4 text-orange-600"><i class="fas fa-envelope"></i></div>
                                        <div>
                                            <p class="font-bold text-slate-900">Email</p>
                                            <p class="text-slate-600">ventas@vipwelleurope.com</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Mock Map -->
                            <div class="w-full h-64 bg-slate-200 rounded-xl overflow-hidden relative group cursor-pointer" onclick="window.open('https://maps.google.com/?q=Cam.+de+Valdecabañas,+28,+Madrid', '_blank')">
                                <img src="https://placehold.co/800x400/e2e8f0/64748b?text=Mapa+Google+Placeholder:+Madrid" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition">
                                <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                                    <span class="bg-white px-4 py-2 rounded shadow font-bold text-slate-800"><i class="fas fa-external-link-alt mr-2"></i> Abrir en Google Maps</span>
                                </div>
                            </div>
                        </div>

                        <!-- Form -->
                        <div class="bg-white p-8 rounded-xl shadow-xl border border-slate-100">
                            <h3 class="text-2xl font-bold text-slate-800 mb-6">Envíenos un mensaje</h3>
                            <form onsubmit="event.preventDefault(); alert('Mensaje simulado enviado. Gracias por contactar a VIPWELL.');" class="space-y-6">
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-bold text-slate-700 mb-2">Nombre</label>
                                        <input type="text" class="w-full bg-slate-50 border border-slate-300 rounded p-3 focus:outline-none focus:border-orange-500" placeholder="Su nombre">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-bold text-slate-700 mb-2">Empresa</label>
                                        <input type="text" class="w-full bg-slate-50 border border-slate-300 rounded p-3 focus:outline-none focus:border-orange-500" placeholder="Nombre empresa">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Email / Teléfono</label>
                                    <input type="text" class="w-full bg-slate-50 border border-slate-300 rounded p-3 focus:outline-none focus:border-orange-500" placeholder="Contacto directo">
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Interés Principal</label>
                                    <select class="w-full bg-slate-50 border border-slate-300 rounded p-3 focus:outline-none focus:border-orange-500">
                                        <option>Compra de Maquinaria</option>
                                        <option>Servicio de Maquila (Producción)</option>
                                        <option>Gestión de Importación/Sourcing</option>
                                        <option>Servicio Técnico</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Detalles</label>
                                    <textarea rows="4" class="w-full bg-slate-50 border border-slate-300 rounded p-3 focus:outline-none focus:border-orange-500" placeholder="Descripción de su proyecto..."></textarea>
                                </div>
                                <button type="submit" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-4 rounded transition shadow-lg">ENVIAR SOLICITUD</button>
                            </form>
                        </div>
                    </div>
                </section>
            `;
        }

        // --- HELPER FUNCTIONS ---

        // Catalog Logic
        function filterCatalog(category) {
            currentState.productFilter = category;

            // Update buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.filter === category) {
                    btn.classList.add('bg-slate-800', 'text-white', 'border-transparent');
                    btn.classList.remove('bg-slate-100', 'text-slate-600');
                } else {
                    btn.classList.remove('bg-slate-800', 'text-white', 'border-transparent');
                    btn.classList.add('bg-slate-100', 'text-slate-600');
                }
            });

            const grid = document.getElementById('catalog-grid');
            grid.innerHTML = '';

            const filtered = category === 'all'
                ? appData.products
                : appData.products.filter(p => p.category === category);

            filtered.forEach(p => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-xl shadow hover:shadow-xl transition-shadow border border-slate-100 overflow-hidden group flex flex-col";
                card.innerHTML = `
                    <div class="h-56 overflow-hidden relative bg-slate-200">
                        <img src="${p.image}" alt="${p.name}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                        <div class="absolute top-0 right-0 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg uppercase">${p.category}</div>
                    </div>
                    <div class="p-6 flex-grow flex flex-col">
                        <h3 class="text-xl font-bold text-slate-800 mb-1">${p.name}</h3>
                        <p class="text-xs text-orange-600 font-bold mb-3 uppercase tracking-wide">${p.tagline}</p>
                        <p class="text-slate-500 text-sm mb-6 flex-grow line-clamp-3">${p.desc}</p>
                        <button onclick="openProductModal('${p.id}')" class="w-full border-2 border-slate-800 text-slate-800 hover:bg-slate-800 hover:text-white font-bold py-2 rounded transition text-sm">
                            VER FICHA TÉCNICA
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Modal Logic
        function openProductModal(pid) {
            const product = appData.products.find(p => p.id === pid);
            if (!product) return;

            const modal = document.getElementById('product-modal');
            const content = document.getElementById('modal-content');

            // Generate Modal Content
            content.innerHTML = `
                <!-- Left: Media -->
                <div class="w-full md:w-1/2 bg-slate-900 p-6 text-white flex flex-col">
                    <h2 class="text-2xl font-bold mb-2 md:hidden">${product.name}</h2> <!-- Mobile Title -->
                    
                    <!-- Video Placeholder -->
                    <div class="w-full aspect-video bg-black rounded-lg overflow-hidden mb-4 shadow-lg border border-slate-700 relative group">
                        <img src="${product.video}" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-16 h-16 bg-orange-500/90 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition cursor-pointer">
                                <i class="fas fa-play text-white text-xl ml-1"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Tech Specs Radar Chart -->
                    <div class="flex-grow flex flex-col justify-end">
                        <h4 class="text-sm uppercase tracking-widest text-slate-400 mb-4 border-b border-slate-700 pb-2">Análisis de Rendimiento</h4>
                        <div class="chart-container" style="height: 250px;">
                            <canvas id="productRadarChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Right: Info -->
                <div class="w-full md:w-1/2 p-8 bg-white overflow-y-auto">
                    <h2 class="text-3xl font-bold text-slate-900 mb-1 hidden md:block">${product.name}</h2>
                    <p class="text-orange-600 font-medium mb-6 uppercase text-sm tracking-wide">${product.tagline}</p>
                    
                    <p class="text-slate-600 mb-8 leading-relaxed">${product.desc}</p>

                    <!-- Tabs/Specs -->
                    <div class="bg-slate-50 rounded-lg p-6 border border-slate-100 mb-8">
                        <h4 class="font-bold text-slate-900 mb-4"><i class="fas fa-cogs mr-2 text-slate-400"></i>Especificaciones Técnicas</h4>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="border-b border-slate-200 pb-2">
                                <span class="block text-slate-400 text-xs uppercase">Tonelaje / Carga</span>
                                <span class="font-bold text-slate-800">${product.specs.tonnage}</span>
                            </div>
                            <div class="border-b border-slate-200 pb-2">
                                <span class="block text-slate-400 text-xs uppercase">Ciclo Seco</span>
                                <span class="font-bold text-slate-800">${product.specs.cycleTime}</span>
                            </div>
                            <div class="border-b border-slate-200 pb-2">
                                <span class="block text-slate-400 text-xs uppercase">Potencia Motor</span>
                                <span class="font-bold text-slate-800">${product.specs.power}</span>
                            </div>
                            <div class="border-b border-slate-200 pb-2">
                                <span class="block text-slate-400 text-xs uppercase">Peso Máquina</span>
                                <span class="font-bold text-slate-800">${product.specs.weight}</span>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col space-y-3">
                         <button class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded shadow transition" onclick="document.getElementById('contact-form-section') ? document.getElementById('contact-form-section').scrollIntoView() : (closeModal(), navigateTo('contact'))">
                            SOLICITAR COTIZACIÓN
                        </button>
                        <button class="w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded transition flex items-center justify-center">
                            <i class="fas fa-file-pdf mr-2"></i> Descargar Ficha Técnica (PDF)
                        </button>
                    </div>
                </div>
            `;

            modal.classList.remove('hidden');

            // Init Chart inside Modal
            setTimeout(() => {
                const ctx = document.getElementById('productRadarChart').getContext('2d');
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: appData.metricsLabels,
                        datasets: [{
                            label: 'Rendimiento Serie VIPWELL',
                            data: product.metrics,
                            backgroundColor: 'rgba(249, 115, 22, 0.2)',
                            borderColor: 'rgba(249, 115, 22, 1)',
                            pointBackgroundColor: 'rgba(249, 115, 22, 1)',
                            borderWidth: 2
                        },
                        {
                            label: 'Promedio Industria',
                            data: [70, 70, 70, 70, 70],
                            backgroundColor: 'rgba(148, 163, 184, 0.1)',
                            borderColor: 'rgba(148, 163, 184, 0.5)',
                            pointBackgroundColor: 'transparent',
                            borderWidth: 1,
                            borderDash: [5, 5]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                pointLabels: { color: 'rgba(255, 255, 255, 0.7)', font: { size: 10 } },
                                ticks: { display: false, backdropColor: 'transparent' },
                                suggestedMin: 50,
                                suggestedMax: 100
                            }
                        },
                        plugins: {
                            legend: { display: true, labels: { color: 'white', font: { size: 10 } } }
                        }
                    }
                });
            }, 100);
        }

        function closeModal() {
            document.getElementById('product-modal').classList.add('hidden');
        }

        // About Chart Logic (Updated with new data focus)
        function initAboutCharts() {
            setTimeout(() => {
                const ctx = document.getElementById('globalChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Venta Maquinaria', 'Servicio Maquila', 'Gestión Importación'],
                        datasets: [{
                            label: 'Volumen de Actividad',
                            data: [50, 30, 20],
                            backgroundColor: [
                                '#1e3a8a', // Blue
                                '#f97316', // Orange
                                '#64748b', // Gray
                            ],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: { callbacks: { label: (c) => `${c.raw}% del negocio` } }
                        },
                        scales: {
                            y: { beginAtZero: true, grid: { color: '#f1f5f9' }, ticks: { callback: (v) => v + '%' } },
                            x: { grid: { display: false } }
                        }
                    }
                });
            }, 100);
        }

        // Custom Project Estimator Logic
        function updateEstimator() {
            const type = document.getElementById('est-base').value;
            let weeks = 0;
            let label = "";

            if (type == "1") { // Importación
                weeks = 12;
                label = "Importación Global";
            } else if (type == "2") { // A Medida
                weeks = 16;
                label = "Fabricación Custom";
            } else { // Maquila
                weeks = 2;
                label = "Inicio Producción";
            }

            // Add checkboxes
            if (document.getElementById('est-check-1').checked) weeks += 2; // Aduanas/Tramites
            if (document.getElementById('est-check-2').checked) weeks += 4; // Software/Complex

            const maxWeeks = 24;
            let percentage = (weeks / maxWeeks) * 100;
            if (percentage > 100) percentage = 100;

            // Update UI
            document.getElementById('est-bar').style.width = `${percentage}%`;
            document.getElementById('est-text').innerText = `${label}: ~${weeks} Semanas`;

            // Color change
            const bar = document.getElementById('est-bar');
            if (weeks < 8) bar.className = "absolute top-0 left-0 h-full bg-green-500 transition-all duration-500";
            else if (weeks < 16) bar.className = "absolute top-0 left-0 h-full bg-orange-500 transition-all duration-500";
            else bar.className = "absolute top-0 left-0 h-full bg-red-500 transition-all duration-500";
        }

        // Scrollytelling Animation Logic
        function initScrollAnimation() {
            const container = document.getElementById('process-timeline');
            if (!container) return;

            const stages = document.querySelectorAll('.process-stage');

            // Simple auto-loop animation
            let currentStage = 0;

            setInterval(() => {
                stages.forEach(s => s.classList.remove('active', 'bg-white', 'text-slate-900'));

                stages[currentStage].classList.add('active', 'bg-white', 'text-slate-900');

                // Reset others style
                stages.forEach((s, idx) => {
                    if (idx !== currentStage) {
                        s.classList.add('bg-slate-800', 'text-slate-400');
                        s.classList.remove('bg-white', 'text-slate-900');
                    }
                });

                currentStage = (currentStage + 1) % stages.length;
            }, 2000);
        }

    </script>

    <!-- Chosen Palette: Navy Blue (#1e3a8a) - Orange (#f97316) - Slate Grays (#64748b) -->
    <!-- Application Structure Plan: 
         Structured as a high-conversion industrial landing page (SPA).
         1. Home: Emotional impact + authority validation (scrollytelling process).
         2. Catalog: Functional exploration with filters (User Goal: Find specific machine).
         3. Detail Modal: Deep dive with Data Viz (Radar Chart) to prove "European Quality".
         4. Services (New): Focus on Logistics Management & Maquila services.
         5. About/Contact: Trust building with real locations/history.
    -->
    <!-- Visualization & Content Choices:
         - Radar Chart in Product Modal: Visualizes abstract concepts (Efficiency/Precision).
         - Bar Chart in About: Visualizes Business Mix (Sales vs Services).
         - Estimator Bar: Updated to include Maquila and Import times.
         - Scrollytelling (Simulated): Uses CSS transitions to explain the integral process.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. FontAwesome and Unicode used for icons. -->
</body>

</html>